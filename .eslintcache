[{"/Users/bsharazhran/Documents/GitHub/cs-frontend/src/index.js":"1","/Users/bsharazhran/Documents/GitHub/cs-frontend/src/App.js":"2","/Users/bsharazhran/Documents/GitHub/cs-frontend/src/data/store.js":"3","/Users/bsharazhran/Documents/GitHub/cs-frontend/src/data/Global.js":"4","/Users/bsharazhran/Documents/GitHub/cs-frontend/src/components/Navbar.jsx":"5","/Users/bsharazhran/Documents/GitHub/cs-frontend/src/pages/LogInPage.jsx":"6","/Users/bsharazhran/Documents/GitHub/cs-frontend/src/API/API.js":"7","/Users/bsharazhran/Documents/GitHub/cs-frontend/src/Util/TimeUtil.js":"8","/Users/bsharazhran/Documents/GitHub/cs-frontend/src/pages/SignUpPage.jsx":"9","/Users/bsharazhran/Documents/GitHub/cs-frontend/src/components/TemporaryAlert.jsx":"10","/Users/bsharazhran/Documents/GitHub/cs-frontend/src/pages/DashboardPage.jsx":"11","/Users/bsharazhran/Documents/GitHub/cs-frontend/src/pages/TestPage.jsx":"12","/Users/bsharazhran/Documents/GitHub/cs-frontend/src/pages/ChangePassword.jsx":"13","/Users/bsharazhran/Documents/GitHub/cs-frontend/src/pages/E404Page.jsx":"14","/Users/bsharazhran/Documents/GitHub/cs-frontend/src/pages/ForgotPage.jsx":"15","/Users/bsharazhran/Documents/GitHub/cs-frontend/src/pages/ActivateAccount.jsx":"16","/Users/bsharazhran/Documents/GitHub/cs-backend/cs-frontend/src/index.js":"17","/Users/bsharazhran/Documents/GitHub/cs-backend/cs-frontend/src/App.js":"18","/Users/bsharazhran/Documents/GitHub/cs-backend/cs-frontend/src/data/store.js":"19","/Users/bsharazhran/Documents/GitHub/cs-backend/cs-frontend/src/data/Global.js":"20","/Users/bsharazhran/Documents/GitHub/cs-backend/cs-frontend/src/pages/DashboardPage.jsx":"21","/Users/bsharazhran/Documents/GitHub/cs-backend/cs-frontend/src/pages/LogInPage.jsx":"22","/Users/bsharazhran/Documents/GitHub/cs-backend/cs-frontend/src/pages/E404Page.jsx":"23","/Users/bsharazhran/Documents/GitHub/cs-backend/cs-frontend/src/pages/ForgotPage.jsx":"24","/Users/bsharazhran/Documents/GitHub/cs-backend/cs-frontend/src/pages/TestPage.jsx":"25","/Users/bsharazhran/Documents/GitHub/cs-backend/cs-frontend/src/pages/ActivateAccount.jsx":"26","/Users/bsharazhran/Documents/GitHub/cs-backend/cs-frontend/src/pages/SignUpPage.jsx":"27","/Users/bsharazhran/Documents/GitHub/cs-backend/cs-frontend/src/pages/ChangePassword.jsx":"28","/Users/bsharazhran/Documents/GitHub/cs-backend/cs-frontend/src/API/API.js":"29","/Users/bsharazhran/Documents/GitHub/cs-backend/cs-frontend/src/components/TemporaryAlert.jsx":"30"},{"size":594,"mtime":1613215254915,"results":"31","hashOfConfig":"32"},{"size":1443,"mtime":1613393714653,"results":"33","hashOfConfig":"32"},{"size":697,"mtime":1613214949901,"results":"34","hashOfConfig":"32"},{"size":648,"mtime":1613220311345,"results":"35","hashOfConfig":"32"},{"size":1310,"mtime":1613214949971,"results":"36","hashOfConfig":"32"},{"size":4433,"mtime":1613393177329,"results":"37","hashOfConfig":"32"},{"size":2875,"mtime":1613391585745,"results":"38","hashOfConfig":"32"},{"size":1218,"mtime":1613214987801,"results":"39","hashOfConfig":"32"},{"size":5245,"mtime":1613392272690,"results":"40","hashOfConfig":"32"},{"size":803,"mtime":1613220037359,"results":"41","hashOfConfig":"32"},{"size":119,"mtime":1613393691789,"results":"42","hashOfConfig":"32"},{"size":453,"mtime":1613388891575,"results":"43","hashOfConfig":"32"},{"size":3638,"mtime":1613389748107,"results":"44","hashOfConfig":"32"},{"size":395,"mtime":1613393608697,"results":"45","hashOfConfig":"32"},{"size":2779,"mtime":1613389818664,"results":"46","hashOfConfig":"32"},{"size":1040,"mtime":1613393374689,"results":"47","hashOfConfig":"32"},{"size":594,"mtime":1613215254915,"results":"48","hashOfConfig":"49"},{"size":1443,"mtime":1613393714653,"results":"50","hashOfConfig":"49"},{"size":697,"mtime":1613214949901,"results":"51","hashOfConfig":"49"},{"size":648,"mtime":1613220311345,"results":"52","hashOfConfig":"49"},{"size":119,"mtime":1613393691789,"results":"53","hashOfConfig":"49"},{"size":4433,"mtime":1613393177329,"results":"54","hashOfConfig":"49"},{"size":395,"mtime":1613393608697,"results":"55","hashOfConfig":"49"},{"size":2779,"mtime":1613389818664,"results":"56","hashOfConfig":"49"},{"size":453,"mtime":1613388891575,"results":"57","hashOfConfig":"49"},{"size":1040,"mtime":1613393374689,"results":"58","hashOfConfig":"49"},{"size":5245,"mtime":1613392272690,"results":"59","hashOfConfig":"49"},{"size":3638,"mtime":1613389748107,"results":"60","hashOfConfig":"49"},{"size":2875,"mtime":1613391585745,"results":"61","hashOfConfig":"49"},{"size":803,"mtime":1613220037359,"results":"62","hashOfConfig":"49"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},"1lp3trr",{"filePath":"66","messages":"67","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"68","messages":"69","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"65"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"75","messages":"76","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"77","messages":"78","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"83","messages":"84","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85","usedDeprecatedRules":"65"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"90","messages":"91","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"92","messages":"93","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"94","messages":"95","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"96","messages":"97","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},"1c2kwjf",{"filePath":"101","messages":"102","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"103","usedDeprecatedRules":"100"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"100"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"112","usedDeprecatedRules":"100"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"115","usedDeprecatedRules":"100"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"118","usedDeprecatedRules":"100"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"121","usedDeprecatedRules":"100"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"124","usedDeprecatedRules":"100"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"127","usedDeprecatedRules":"100"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"130","usedDeprecatedRules":"100"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"133","usedDeprecatedRules":"100"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85"},"/Users/bsharazhran/Documents/GitHub/cs-frontend/src/index.js",[],["136","137"],"/Users/bsharazhran/Documents/GitHub/cs-frontend/src/App.js",["138","139","140"],"/Users/bsharazhran/Documents/GitHub/cs-frontend/src/data/store.js",["141","142"],"import {configureStore, getDefaultMiddleware} from '@reduxjs/toolkit';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport {PersistGate} from 'redux-persist/integration/react';\n\nimport global from './Global';\nconst persistConfig = {\n  key: 'root',\n  version: 1,\n  storage,\n};\n\nconst persistedReducer = persistReducer(persistConfig, global);\n\nexport const store = configureStore({\n  reducer: persistedReducer,\n  middleware: getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n});\n","/Users/bsharazhran/Documents/GitHub/cs-frontend/src/data/Global.js",[],"/Users/bsharazhran/Documents/GitHub/cs-frontend/src/components/Navbar.jsx",["143","144"],"/Users/bsharazhran/Documents/GitHub/cs-frontend/src/pages/LogInPage.jsx",["145","146","147"],"/Users/bsharazhran/Documents/GitHub/cs-frontend/src/API/API.js",["148"],"/Users/bsharazhran/Documents/GitHub/cs-frontend/src/Util/TimeUtil.js",[],"/Users/bsharazhran/Documents/GitHub/cs-frontend/src/pages/SignUpPage.jsx",["149","150"],"/Users/bsharazhran/Documents/GitHub/cs-frontend/src/components/TemporaryAlert.jsx",["151"],"import React, {\n  useEffect,\n  useState,\n  forwardRef,\n  useImperativeHandle,\n} from 'react';\nimport {Alert} from 'react-bootstrap';\nvar timeout = null;\nconst TemporaryAlert = (\n  {body, heading, type = 'success', showTime = 5000},\n  ref\n) => {\n  const [show, setShow] = useState(false);\n \n  useImperativeHandle(ref, () => ({\n    showAlert: () => {\n      setShow(true);\n      clearTimeout(timeout)\n      timeout = setTimeout(() => {\n        closeAlert();\n      }, showTime);\n    },\n  }));\n\n  const closeAlert = () => {\n    setShow(false);\n  };\n  return (\n    <>\n      {show && (\n        <Alert variant={type} onClose={closeAlert} dismissible>\n          <Alert.Heading>{heading}</Alert.Heading>\n          <p>{body}</p>\n        </Alert>\n      )}\n    </>\n  );\n};\nexport default forwardRef(TemporaryAlert);\n","/Users/bsharazhran/Documents/GitHub/cs-frontend/src/pages/DashboardPage.jsx",[],"/Users/bsharazhran/Documents/GitHub/cs-frontend/src/pages/TestPage.jsx",["152","153","154","155","156"],"/Users/bsharazhran/Documents/GitHub/cs-frontend/src/pages/ChangePassword.jsx",["157","158"],"/Users/bsharazhran/Documents/GitHub/cs-frontend/src/pages/E404Page.jsx",["159"],"/Users/bsharazhran/Documents/GitHub/cs-frontend/src/pages/ForgotPage.jsx",["160","161","162"],"/Users/bsharazhran/Documents/GitHub/cs-frontend/src/pages/ActivateAccount.jsx",["163","164"],"/Users/bsharazhran/Documents/GitHub/cs-backend/cs-frontend/src/index.js",[],["165","166"],"/Users/bsharazhran/Documents/GitHub/cs-backend/cs-frontend/src/App.js",["167","168","169"],"import React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\nimport {useSelector, useDispach} from 'react-redux';\nimport LogInPage from './pages/LogInPage'\nimport SignUpPage from './pages/SignUpPage'\nimport DashboardPage from './pages/DashboardPage'\nimport TestPage from './pages/TestPage'\nimport ChangePassword from './pages/ChangePassword'\nimport E404Page from './pages/E404Page'\nimport ForgotPage from './pages/ForgotPage'\nimport ActivateAccount from './pages/ActivateAccount'\n\nfunction App() {\n  // const Login = useSelector(ShowLogIn);\n  // const isCoursesHidden = useSelector(ShowCourses);\n \n  return (\n    <Router>\n      <div className=\"App\">\n        <div className=\"body\">\n          <Switch>\n            <Route path=\"/\" exact component={LogInPage} />\n            <Route path=\"/ch/:id/:token\" exact component={ChangePassword} />\n            <Route path=\"/a/:id/:token\" exact component={ActivateAccount} />\n\n            <Route path=\"/404\" exact component={E404Page} />\n\n            <Route path=\"/sign-up\" exact component={SignUpPage} />\n            <Route path=\"/sign-in\" exact component={LogInPage} />\n            <Route path=\"/reset-password\" exact component={ForgotPage} />\n            <Route path=\"/dashboard\" exact component={DashboardPage}/>\n            \n          </Switch>\n        </div>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","/Users/bsharazhran/Documents/GitHub/cs-backend/cs-frontend/src/data/store.js",["170","171"],"/Users/bsharazhran/Documents/GitHub/cs-backend/cs-frontend/src/data/Global.js",[],"/Users/bsharazhran/Documents/GitHub/cs-backend/cs-frontend/src/pages/DashboardPage.jsx",[],"/Users/bsharazhran/Documents/GitHub/cs-backend/cs-frontend/src/pages/LogInPage.jsx",["172","173","174"],"import React, {useState, useEffect, useRef} from 'react';\nimport {Player, Controls} from '@lottiefiles/react-lottie-player';\nimport {Form, Button} from 'react-bootstrap';\nimport {useDispatch} from 'react-redux';\nimport {useHistory} from 'react-router-dom';\nimport {logIn, sendMail} from '../API/API';\nimport TemporaryAlert from '../components/TemporaryAlert';\nimport {setCurrentUser} from '../data/Global';\nvar sha256 = require ('js-sha256');\n\nexport default function LogInPage () {\n  const history = useHistory ();\n  const dispatch = useDispatch ();\n\n  const alertRef = useRef ();\n  const [alertHeading, setAlertHeading] = useState ('');\n  const [alertBody, setAlertBody] = useState ('');\n  const [alertType, setAlertType] = useState ('');\n\n  const [id, setId] = useState (-1);\n  const [spare2, setSpare2] = useState (-1);\n\n  const [email, setemail] = useState ('');\n  const [password, setPassword] = useState ('');\n  const [allowSendActivationLink, setAllowSendActivationLink] = useState (\n    false\n  );\n\n  function validateForm () {\n    return email.length > 0 && password.length > 0;\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault ();\n    logIn (email, sha256 (password)).then (res => {\n      if (res.data != null) {\n        console.log ('user:', res.data);\n        setId(res.data.id)\n        setSpare2(res.data.spare2)\n        if (res.data.spare2 === 'Activated') {\n          console.log ('log in');\n          history.push ('/dashboard');\n          dispatch (setCurrentUser (res.data));\n        } else {\n          setAlertType ('info');\n\n          setAlertHeading ('Activate account');\n          setAlertBody ('Please check you email for an activation link.');\n          alertRef.current.showAlert ();\n          setAllowSendActivationLink (true);\n        }\n      } else {\n        setAlertType ('warning');\n\n        setAlertHeading ('Log in failed');\n        setAlertBody ('Password or email are not correct! try again.');\n        alertRef.current.showAlert ();\n      }\n    });\n  };\n\n  const onSignUpClick = () => {\n    history.push ('/sign-up');\n  };\n\n  const resendActivationLink = () => {\n    const userId = id;\n    const token = spare2;\n\n    const url = `http://localhost:3000/a/${userId}/${token}`;\n    const to = email;\n    const subject = 'Activation Email';\n    const text = `Click on this link to activate your account: ${url}`;\n    const onSuccess = e => {};\n    sendMail (to, subject, text, onSuccess);\n    setAlertType ('success');\n    setAlertHeading ('Success');\n    setAlertBody ('Check your email for an activation link');\n    alertRef.current.showAlert ();\n\n  };\n\n  return (\n    <div className=\"Login\">\n\n      <Player\n        autoplay\n        loop\n        src=\"https://assets1.lottiefiles.com/datafiles/RvQQlJ3ODelSiQi/data.json\"\n        style={{height: '300px', width: '300px'}}\n      />\n      <TemporaryAlert\n        body={alertBody}\n        heading={alertHeading}\n        type={alertType}\n        ref={alertRef}\n      />\n      <Form\n        className=\"d-flex flex-column align-items-md-center\"\n        onSubmit={handleSubmit}\n      >\n        <h3 className=\"pt-5 pb-3\"> Welcome Back!</h3>\n\n        <Form.Group size=\"lg\" controlId=\"email\">\n          <Form.Control\n            type=\"email\"\n            placeholder=\"Enter email\"\n            value={email}\n            onChange={e => setemail (e.target.value)}\n          />\n\n        </Form.Group>\n        <Form.Group size=\"lg\" controlId=\"password\">\n          <Form.Control\n            type=\"password\"\n            value={password}\n            placeholder=\"Password\"\n            onChange={e => setPassword (e.target.value)}\n          />\n        </Form.Group>\n        <Button\n          className=\"mt-3 mb-3\"\n          size=\"m\"\n          type=\"submit\"\n          disabled={!validateForm ()}\n        >\n          Login\n        </Button>\n        <Button className=\"mb-3\" size=\"m\" onClick={onSignUpClick}>\n          Sign Up\n        </Button>\n\n        {allowSendActivationLink &&\n          <div className=\"d-flex flex-column align-items-md-center m-3\">\n\n            <p className=\"forgot-password text-right m-2\">\n              Didn't receive an activation link?\n            </p>\n            <Button\n              className=\"mb-3\"\n              disabled={email.length == 0}\n              size=\"m\"\n              onClick={resendActivationLink}\n            >\n              Resend Activation Link\n            </Button>\n          </div>}\n\n      </Form>\n    </div>\n  );\n}\n","/Users/bsharazhran/Documents/GitHub/cs-backend/cs-frontend/src/pages/E404Page.jsx",["175"],"import React from 'react';\nimport {Player, Controls} from '@lottiefiles/react-lottie-player';\n\nexport default function E404Page () {\n  return (\n    <div>\n      <Player\n        src=\"https://assets7.lottiefiles.com/temp/lf20_USCruP.json\"\n        background=\"transparent\"\n        speed=\"1\"\n        loop\n        autoplay\n        style={{height: '500px', width: '500px'}}\n      />\n\n    </div>\n  );\n}\n","/Users/bsharazhran/Documents/GitHub/cs-backend/cs-frontend/src/pages/ForgotPage.jsx",["176","177","178"],"import React, {useState, useRef} from 'react';\nimport {Player, Controls} from '@lottiefiles/react-lottie-player';\nimport TemporaryAlert from '../components/TemporaryAlert';\nimport {\n  setUserSpare1byEmail,\n  sendMail,\n  generateUserSpare1ByEmail,\n} from '../API/API';\n\nvar sha256 = require ('js-sha256');\n\nexport default function ForgotPage () {\n  const [email, setEmail] = useState ('');\n\n  const [alertType, setAlertType] = useState ('');\n  const [alertHeading, setAlertHeading] = useState ('');\n  const [alertBody, setAlertBody] = useState ('');\n\n  const handleSubmit = e => {\n    e.preventDefault ();\n\n    generateUserSpare1ByEmail (email).then (res => {\n      if (res.data) {\n        const userId = res.data.id;\n        const newToken = res.data.spare1;\n\n        const url = `http://localhost:3000/ch/${userId}/${newToken}`;\n        const to = email;\n        const subject = 'Recovery Email';\n        const text = `Click on this link to reset your password: ${url}`;\n        const onSuccess = e => {\n         \n        };\n        sendMail (to, subject, text, onSuccess);\n        setAlertType ('success');\n        setAlertHeading ('Success');\n        setAlertBody ('Check your email for a reset link');\n        alertRef.current.showAlert ();\n      } else {\n        console.log (\"email is not valid, don't tell the user...\");\n        setAlertType ('success');\n        setAlertHeading ('Success');\n        setAlertBody ('Check your email for a reset link');\n    }\n    });\n  };\n  function validateForm () {\n    return email.length > 0;\n  }\n\n  const alertRef = useRef ();\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <Player\n          src=\"https://assets4.lottiefiles.com/packages/lf20_IQ2Fuq.json\"\n          background=\"transparent\"\n          speed=\"1\"\n          loop\n          autoplay\n          style={{height: '300px', width: '300px'}}\n        />\n        <TemporaryAlert\n          body={alertBody}\n          heading={alertHeading}\n          type={alertType}\n          ref={alertRef}\n        />\n\n        <div className=\" d-flex flex-column align-items-md-center\">\n          <h3 className=\"mt-5 mb-5\">Reset Password</h3>\n\n          <div className=\"form-group\">\n            <input\n              type=\"email\"\n              className=\"form-control\"\n              placeholder=\"Enter email\"\n              onChange={e => setEmail (e.target.value)}\n            />\n          </div>\n\n          <button\n            disabled={!validateForm ()}\n            type=\"submit\"\n            className=\"btn btn-primary mt-3\"\n          >\n            Send reset email\n          </button>\n\n          <p className=\"forgot-password text-right\">\n            Already registered <a href=\"/sign-in\">sign in?</a>\n          </p>\n        </div>\n      </form>       {' '}\n    </div>\n  );\n}\n","/Users/bsharazhran/Documents/GitHub/cs-backend/cs-frontend/src/pages/TestPage.jsx",["179","180","181","182","183"],"import React, {useEffect} from 'react';\nimport {sendMail} from '../API/API';\nexport default function TestPage () {\n  \nuseEffect (() => {\n    const to = 'bshara23@gmail.com';\n    const subject = 'This is a test email';\n    const text = 'this is the content';\n    const onSuccess = e => {\n      console.log ('on success', e);\n    };\n    //sendMail (to, subject, text, onSuccess);\n  }, []);\n\n  return (\n    <div>\n      <h1>Test Page</h1>\n    </div>\n  );\n}\n","/Users/bsharazhran/Documents/GitHub/cs-backend/cs-frontend/src/pages/ActivateAccount.jsx",["184","185"],"import React, {useEffect, useState} from 'react';\nimport {getUserSpare2, setUserSpare2} from '../API/API';\nimport {useHistory} from 'react-router-dom';\nvar sha256 = require ('js-sha256');\n\nexport default function ActivateAccount({match}) {\n  const history = useHistory ();\n  const [allow, setAllow] = useState (false);\n\n  useEffect (() => {\n    let userId = match.params.id;\n    let userToken = match.params.token;\n    console.log(userId, userToken);\n\n    getUserSpare2 (userId).then (res => {\n      if (res.data) {\n        let token = res.data.spare2;\n        console.log(token, userToken);\n        if (token === userToken) {\n          setUserSpare2 (userId, 'Activated').then (res => {\n            setAllow (true);\n            setTimeout (() => {\n              history.push ('/sign-in');\n            }, 2000);\n          });\n        } else {\n          setAllow (false);\n          history.push ('/404');\n        }\n      }\n    });\n  }, []);\n\n  return (\n    <div>\n      {allow && <h3>Account activated, redirecting...</h3>}\n    </div>\n  );\n}\n","/Users/bsharazhran/Documents/GitHub/cs-backend/cs-frontend/src/pages/SignUpPage.jsx",["186","187"],"import React, {useState, useRef} from 'react';\nimport {Player, Controls} from '@lottiefiles/react-lottie-player';\nimport TemporaryAlert from '../components/TemporaryAlert';\nimport {doesEmailExists, register, sendMail} from '../API/API';\nvar sha256 = require ('js-sha256');\n\nexport default function SignUpPage () {\n  const [fname, setFname] = useState ('');\n  const [lname, setLname] = useState ('');\n  const [email, setEmail] = useState ('');\n  const [password, setPassword] = useState ('');\n  const [repeatedPassword, setRepeatedPassword] = useState ('');\n  const [promoCode, setPromoCode] = useState ('');\n\n  const [alertType, setAlertType] = useState ('');\n  const [alertHeading, setAlertHeading] = useState ('');\n  const [alertBody, setAlertBody] = useState ('');\n\n  const handleSubmit = e => {\n    e.preventDefault ();\n\n    if (password !== repeatedPassword) {\n      setAlertType ('warning');\n      setAlertHeading ('Incorrect Password');\n      setAlertBody (\"Passwords don't match!\");\n      alertRef.current.showAlert ();\n      return;\n    }\n    // check if already exists\n    doesEmailExists (email).then (res => {\n      if (res.data.length != 0) {\n        // user already exists\n        setAlertType ('warning');\n        setAlertHeading ('User Exists');\n        setAlertBody (\n          'There is already an account registered with this email!'\n        );\n        alertRef.current.showAlert ();\n      } else {\n        // register\n\n        register (\n          fname,\n          lname,\n          email,\n          sha256 (password),\n          promoCode\n        ).then (res => {\n\n          setAlertType ('success');\n          setAlertHeading ('Success');\n          setAlertBody ('Registeration has been completed successfully!');\n          alertRef.current.showAlert ();\n\n          // send activation mail\n\n          const userId = res.data.id;\n          const token = res.data.spare2;\n\n          const url = `http://localhost:3000/a/${userId}/${token}`;\n          const to = email;\n          const subject = 'Activation Email';\n          const text = `Click on this link to activate your account: ${url}`;\n          const onSuccess = e => {};\n          sendMail (to, subject, text, onSuccess);\n          setAlertType ('success');\n          setAlertHeading ('Success');\n          setAlertBody ('Check your email for an activation link');\n        });\n      }\n    });\n  };\n  function validateForm () {\n    return (\n      fname.length > 0 &&\n      lname.length > 0 &&\n      email.length > 0 &&\n      password.length > 0 &&\n      repeatedPassword.length > 0 &&\n      promoCode.length > 0\n    );\n  }\n\n  const alertRef = useRef ();\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <Player\n          src=\"https://assets5.lottiefiles.com/packages/lf20_wd1udlcz.json\"\n          background=\"transparent\"\n          speed=\"1\"\n          loop\n          autoplay\n          style={{height: '300px', width: '300px'}}\n        />\n        <TemporaryAlert\n          body={alertBody}\n          heading={alertHeading}\n          type={alertType}\n          ref={alertRef}\n        />\n\n        <div className=\" d-flex flex-column align-items-md-center\">\n          <h3 className=\"mt-5 mb-5\">Sign Up</h3>\n\n          <div className=\"form-group\">\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              placeholder=\"First name\"\n              onChange={e => setFname (e.target.value)}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <input\n              onChange={e => setLname (e.target.value)}\n              type=\"text\"\n              className=\"form-control\"\n              placeholder=\"Last name\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <input\n              type=\"email\"\n              className=\"form-control\"\n              placeholder=\"Enter email\"\n              onChange={e => setEmail (e.target.value)}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <input\n              type=\"password\"\n              className=\"form-control\"\n              placeholder=\"Enter password\"\n              onChange={e => setPassword (e.target.value)}\n            />\n          </div>\n          <div className=\"form-group\">\n            <input\n              type=\"password\"\n              className=\"form-control\"\n              placeholder=\"Repeat password\"\n              onChange={e => setRepeatedPassword (e.target.value)}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              placeholder=\"Have a promo code\"\n              onChange={e => setPromoCode (e.target.value)}\n            />\n          </div>\n\n          <button\n            disabled={!validateForm ()}\n            type=\"submit\"\n            className=\"btn btn-primary mt-3\"\n          >\n            Sign Up\n          </button>\n          <p className=\"forgot-password text-right\">\n            <a href=\"/reset-password\">Forgot Password?</a>\n          </p>\n          <p className=\"forgot-password text-right\">\n            Already registered <a href=\"/sign-in\">sign in?</a>\n          </p>\n        </div>\n      </form>       {' '}\n    </div>\n  );\n}\n","/Users/bsharazhran/Documents/GitHub/cs-backend/cs-frontend/src/pages/ChangePassword.jsx",["188","189"],"import React, {useEffect, useState, useRef} from 'react';\nimport {getUserSpare1, updatePasswordByToken, setUserSpare1} from '../API/API';\nimport TemporaryAlert from '../components/TemporaryAlert';\nimport {useHistory} from 'react-router-dom';\nvar sha256 = require ('js-sha256');\n\nexport default function ChangePassword({match}) {\n  const alertRef = useRef ();\n  const history = useHistory ();\n\n  const [allow, setAllow] = useState (false);\n\n  const [password, setPassword] = useState ('');\n  const [repeatedPassword, setRepeatedPassword] = useState ('');\n\n  const [alertType, setAlertType] = useState ('');\n  const [alertHeading, setAlertHeading] = useState ('');\n  const [alertBody, setAlertBody] = useState ('');\n\n  useEffect (() => {\n    let userId = match.params.id;\n    let userToken = match.params.token;\n    console.log (match);\n    getUserSpare1 (userId).then (res => {\n      if (res.data) {\n        let token = res.data.spare1;\n        if (token === userToken) {\n          // token is valid\n          setAllow (true);\n        } else {\n          setAllow (false);\n          history.push ('/404');\n        }\n      }\n    });\n  }, []);\n\n  const handleSubmit = e => {\n    e.preventDefault ();\n    let userId = match.params.id;\n    let userToken = match.params.token;\n    if (password !== repeatedPassword) {\n      setAlertType ('warning');\n      setAlertHeading ('Incorrect Password');\n      setAlertBody (\"Passwords don't match!\");\n      alertRef.current.showAlert ();\n      return;\n    }\n    updatePasswordByToken (userId, userToken, sha256(password)).then (res => {\n      if (res.data == 1) {\n        // password changed\n        setAlertType ('success');\n        setAlertHeading ('Success');\n        setAlertBody ('Password has been changed successfuly!');\n        alertRef.current.showAlert ();\n        setAllow (false);\n        // delete token\n        setUserSpare1 (userId, null).then (res => {\n          setTimeout (() => {\n            // redirect to log in\n            history.push ('/sign-in');\n        }, 1000);\n        });\n      } else {\n        // password didn't change\n        setAlertType ('warning');\n        setAlertHeading ('Error');\n        setAlertBody ('Ops, something went wrong!!');\n        alertRef.current.showAlert ();\n      }\n    });\n  };\n  function validateForm () {\n    return password.length > 0 && repeatedPassword.length > 0;\n  }\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n\n        <TemporaryAlert\n          body={alertBody}\n          heading={alertHeading}\n          type={alertType}\n          ref={alertRef}\n        />\n\n        {allow &&\n          <div>\n\n            <div className=\" d-flex flex-column align-items-md-center\">\n              <h3 className=\"mt-5 mb-5\">Change Password</h3>\n\n              <div className=\"form-group\">\n                <input\n                  type=\"password\"\n                  className=\"form-control\"\n                  placeholder=\"Enter password\"\n                  onChange={e => setPassword (e.target.value)}\n                />\n              </div>\n              <div className=\"form-group\">\n                <input\n                  type=\"password\"\n                  className=\"form-control\"\n                  placeholder=\"Repeat password\"\n                  onChange={e => setRepeatedPassword (e.target.value)}\n                />\n              </div>\n\n              <button\n                disabled={!validateForm ()}\n                type=\"submit\"\n                className=\"btn btn-primary mt-3\"\n              >\n                Change Password\n              </button>\n            </div>\n\n          </div>}\n\n      </form>       {' '}\n    </div>\n  );\n}\n","/Users/bsharazhran/Documents/GitHub/cs-backend/cs-frontend/src/API/API.js",["190"],"const axios = require ('axios');\nconst nodemailer = require ('nodemailer');\n\nexport const API_URL = 'http://localhost:5000';\nexport const logIn = async (email, password) => {\n  try {\n    return await axios\n      .get (API_URL + `/users/${email}/${password}`)\n      .then (res => {\n        return res;\n      });\n  } catch (error) {\n    console.error (error);\n  }\n};\n\nexport const doesEmailExists = async email => {\n  try {\n    return await axios.get (API_URL + `/users/${email}`).then (res => {\n      return res;\n    });\n  } catch (error) {\n    console.error (error);\n  }\n};\n\nexport const register = async (\n  fname,\n  lname,\n  email,\n  password,\n  promoCode = ''\n) => {\n  try {\n    return await axios\n      .post (API_URL + `/users`, {\n        name: fname,\n        family_name: lname,\n        email,\n        promo_code: promoCode,\n        password,\n      })\n      .then (res => {\n        return res;\n      });\n  } catch (error) {\n    console.error (error);\n  }\n};\n\nexport const sendMail = async (to, subject, text) => {\n  try {\n    return await axios\n      .post (API_URL + `/sendMail`, {\n        to,\n        subject,\n        text,\n      })\n      .then (res => {\n        return res;\n      });\n  } catch (error) {\n    console.error (error);\n  }\n};\n\nexport const getUserSpare1 = async id => {\n  try {\n    return await axios.get (API_URL + `/spare1/${id}`).then (res => {\n      return res;\n    });\n  } catch (error) {\n    console.error (error);\n  }\n};\nexport const setUserSpare1 = async (id, spare1) => {\n  try {\n    return await axios.put (API_URL + `/spare1`, {id, spare1}).then (res => {\n      return res;\n    });\n  } catch (error) {\n    console.error (error);\n  }\n};\n\n\nexport const getUserSpare2 = async id => {\n  try {\n    return await axios.get (API_URL + `/spare2/${id}`).then (res => {\n      return res;\n    });\n  } catch (error) {\n    console.error (error);\n  }\n};\nexport const setUserSpare2 = async (id, spare2) => {\n  try {\n    return await axios.put (API_URL + `/spare2`, {id, spare2}).then (res => {\n      return res;\n    });\n  } catch (error) {\n    console.error (error);\n  }\n};\n\n\n\nexport const setUserSpare1byEmail = async (email, spare1) => {\n  try {\n    return await axios.put (API_URL + `/spare1email`, {email, spare1}).then (res => {\n      return res;\n    });\n  } catch (error) {\n    console.error (error);\n  }\n};\nexport const generateUserSpare1ByEmail = async (email) => {\n  try {\n    return await axios.put (API_URL + `/spare1email`, {email}).then (res => {\n      return res;\n    });\n  } catch (error) {\n    console.error (error);\n  }\n};\nexport const updatePasswordByToken = async (id, spare1, newPassword) => {\n  try {\n    return await axios\n      .put (API_URL + `/updatePasswordByToken`, {\n        id,\n        spare1,\n        newPassword,\n      })\n      .then (res => {\n        return res;\n      });\n  } catch (error) {\n    console.error (error);\n  }\n};\n","/Users/bsharazhran/Documents/GitHub/cs-backend/cs-frontend/src/components/TemporaryAlert.jsx",["191"],{"ruleId":"192","replacedBy":"193"},{"ruleId":"194","replacedBy":"195"},{"ruleId":"196","severity":1,"message":"197","line":4,"column":9,"nodeType":"198","messageId":"199","endLine":4,"endColumn":20},{"ruleId":"196","severity":1,"message":"200","line":4,"column":22,"nodeType":"198","messageId":"199","endLine":4,"endColumn":32},{"ruleId":"196","severity":1,"message":"201","line":8,"column":8,"nodeType":"198","messageId":"199","endLine":8,"endColumn":16},{"ruleId":"196","severity":1,"message":"202","line":3,"column":3,"nodeType":"198","messageId":"199","endLine":3,"endColumn":15},{"ruleId":"196","severity":1,"message":"203","line":13,"column":9,"nodeType":"198","messageId":"199","endLine":13,"endColumn":20},{"ruleId":"196","severity":1,"message":"204","line":3,"column":9,"nodeType":"198","messageId":"199","endLine":3,"endColumn":13},{"ruleId":"196","severity":1,"message":"205","line":3,"column":15,"nodeType":"198","messageId":"199","endLine":3,"endColumn":25},{"ruleId":"196","severity":1,"message":"206","line":1,"column":26,"nodeType":"198","messageId":"199","endLine":1,"endColumn":35},{"ruleId":"196","severity":1,"message":"207","line":2,"column":17,"nodeType":"198","messageId":"199","endLine":2,"endColumn":25},{"ruleId":"208","severity":1,"message":"209","line":141,"column":38,"nodeType":"210","messageId":"211","endLine":141,"endColumn":40},{"ruleId":"196","severity":1,"message":"212","line":2,"column":7,"nodeType":"198","messageId":"199","endLine":2,"endColumn":17},{"ruleId":"196","severity":1,"message":"207","line":2,"column":17,"nodeType":"198","messageId":"199","endLine":2,"endColumn":25},{"ruleId":"208","severity":1,"message":"213","line":31,"column":27,"nodeType":"210","messageId":"211","endLine":31,"endColumn":29},{"ruleId":"196","severity":1,"message":"206","line":2,"column":3,"nodeType":"198","messageId":"199","endLine":2,"endColumn":12},{"ruleId":"196","severity":1,"message":"214","line":2,"column":9,"nodeType":"198","messageId":"199","endLine":2,"endColumn":17},{"ruleId":"196","severity":1,"message":"215","line":6,"column":11,"nodeType":"198","messageId":"199","endLine":6,"endColumn":13},{"ruleId":"196","severity":1,"message":"216","line":7,"column":11,"nodeType":"198","messageId":"199","endLine":7,"endColumn":18},{"ruleId":"196","severity":1,"message":"217","line":8,"column":11,"nodeType":"198","messageId":"199","endLine":8,"endColumn":15},{"ruleId":"196","severity":1,"message":"218","line":9,"column":11,"nodeType":"198","messageId":"199","endLine":9,"endColumn":20},{"ruleId":"219","severity":1,"message":"220","line":36,"column":6,"nodeType":"221","endLine":36,"endColumn":8,"suggestions":"222"},{"ruleId":"208","severity":1,"message":"209","line":50,"column":20,"nodeType":"210","messageId":"211","endLine":50,"endColumn":22},{"ruleId":"196","severity":1,"message":"207","line":2,"column":17,"nodeType":"198","messageId":"199","endLine":2,"endColumn":25},{"ruleId":"196","severity":1,"message":"207","line":2,"column":17,"nodeType":"198","messageId":"199","endLine":2,"endColumn":25},{"ruleId":"196","severity":1,"message":"223","line":5,"column":3,"nodeType":"198","messageId":"199","endLine":5,"endColumn":23},{"ruleId":"196","severity":1,"message":"224","line":10,"column":5,"nodeType":"198","messageId":"199","endLine":10,"endColumn":11},{"ruleId":"196","severity":1,"message":"224","line":4,"column":5,"nodeType":"198","messageId":"199","endLine":4,"endColumn":11},{"ruleId":"219","severity":1,"message":"225","line":32,"column":6,"nodeType":"221","endLine":32,"endColumn":8,"suggestions":"226"},{"ruleId":"192","replacedBy":"227"},{"ruleId":"194","replacedBy":"228"},{"ruleId":"196","severity":1,"message":"197","line":4,"column":9,"nodeType":"198","messageId":"199","endLine":4,"endColumn":20},{"ruleId":"196","severity":1,"message":"200","line":4,"column":22,"nodeType":"198","messageId":"199","endLine":4,"endColumn":32},{"ruleId":"196","severity":1,"message":"201","line":8,"column":8,"nodeType":"198","messageId":"199","endLine":8,"endColumn":16},{"ruleId":"196","severity":1,"message":"202","line":3,"column":3,"nodeType":"198","messageId":"199","endLine":3,"endColumn":15},{"ruleId":"196","severity":1,"message":"203","line":13,"column":9,"nodeType":"198","messageId":"199","endLine":13,"endColumn":20},{"ruleId":"196","severity":1,"message":"206","line":1,"column":26,"nodeType":"198","messageId":"199","endLine":1,"endColumn":35},{"ruleId":"196","severity":1,"message":"207","line":2,"column":17,"nodeType":"198","messageId":"199","endLine":2,"endColumn":25},{"ruleId":"208","severity":1,"message":"209","line":141,"column":38,"nodeType":"210","messageId":"211","endLine":141,"endColumn":40},{"ruleId":"196","severity":1,"message":"207","line":2,"column":17,"nodeType":"198","messageId":"199","endLine":2,"endColumn":25},{"ruleId":"196","severity":1,"message":"207","line":2,"column":17,"nodeType":"198","messageId":"199","endLine":2,"endColumn":25},{"ruleId":"196","severity":1,"message":"223","line":5,"column":3,"nodeType":"198","messageId":"199","endLine":5,"endColumn":23},{"ruleId":"196","severity":1,"message":"224","line":10,"column":5,"nodeType":"198","messageId":"199","endLine":10,"endColumn":11},{"ruleId":"196","severity":1,"message":"214","line":2,"column":9,"nodeType":"198","messageId":"199","endLine":2,"endColumn":17},{"ruleId":"196","severity":1,"message":"215","line":6,"column":11,"nodeType":"198","messageId":"199","endLine":6,"endColumn":13},{"ruleId":"196","severity":1,"message":"216","line":7,"column":11,"nodeType":"198","messageId":"199","endLine":7,"endColumn":18},{"ruleId":"196","severity":1,"message":"217","line":8,"column":11,"nodeType":"198","messageId":"199","endLine":8,"endColumn":15},{"ruleId":"196","severity":1,"message":"218","line":9,"column":11,"nodeType":"198","messageId":"199","endLine":9,"endColumn":20},{"ruleId":"196","severity":1,"message":"224","line":4,"column":5,"nodeType":"198","messageId":"199","endLine":4,"endColumn":11},{"ruleId":"219","severity":1,"message":"225","line":32,"column":6,"nodeType":"221","endLine":32,"endColumn":8,"suggestions":"229"},{"ruleId":"196","severity":1,"message":"207","line":2,"column":17,"nodeType":"198","messageId":"199","endLine":2,"endColumn":25},{"ruleId":"208","severity":1,"message":"213","line":31,"column":27,"nodeType":"210","messageId":"211","endLine":31,"endColumn":29},{"ruleId":"219","severity":1,"message":"220","line":36,"column":6,"nodeType":"221","endLine":36,"endColumn":8,"suggestions":"230"},{"ruleId":"208","severity":1,"message":"209","line":50,"column":20,"nodeType":"210","messageId":"211","endLine":50,"endColumn":22},{"ruleId":"196","severity":1,"message":"212","line":2,"column":7,"nodeType":"198","messageId":"199","endLine":2,"endColumn":17},{"ruleId":"196","severity":1,"message":"206","line":2,"column":3,"nodeType":"198","messageId":"199","endLine":2,"endColumn":12},"no-native-reassign",["231"],"no-negated-in-lhs",["232"],"no-unused-vars","'useSelector' is defined but never used.","Identifier","unusedVar","'useDispach' is defined but never used.","'TestPage' is defined but never used.","'persistStore' is defined but never used.","'PersistGate' is defined but never used.","'Icon' is defined but never used.","'InlineIcon' is defined but never used.","'useEffect' is defined but never used.","'Controls' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'nodemailer' is assigned a value but never used.","Expected '!==' and instead saw '!='.","'sendMail' is defined but never used.","'to' is assigned a value but never used.","'subject' is assigned a value but never used.","'text' is assigned a value but never used.","'onSuccess' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'history' and 'match'. Either include them or remove the dependency array.","ArrayExpression",["233"],"'setUserSpare1byEmail' is defined but never used.","'sha256' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'history', 'match.params.id', and 'match.params.token'. Either include them or remove the dependency array.",["234"],["231"],["232"],["235"],["236"],"no-global-assign","no-unsafe-negation",{"desc":"237","fix":"238"},{"desc":"239","fix":"240"},{"desc":"239","fix":"241"},{"desc":"237","fix":"242"},"Update the dependencies array to be: [history, match]",{"range":"243","text":"244"},"Update the dependencies array to be: [history, match.params.id, match.params.token]",{"range":"245","text":"246"},{"range":"247","text":"246"},{"range":"248","text":"244"},[1135,1137],"[history, match]",[935,937],"[history, match.params.id, match.params.token]",[935,937],[1135,1137]]